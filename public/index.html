<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="public/favicon.ico">
    <title>NATURALIS PHARMACIE PRODUCTS</title>
    <style>
        .p{
            text-align: center;
            font-family: 'Times New Roman', Times, serif;
            background-color: red;
        }
        /* img{
            float: 1;
            align-self: center;
            height: 150px;
            width: 200px;
        } */
    </style>
    <script src="https://kit.fontawesome.com/b8c51a70ab.js" crossorigin="anonymous"></script>
</head>
<body>
   <!-- <h1 class="p"><strong>PATRICA ELECTRONIC CENTRE</strong></h1>  -->

<div class="data">
<div class="top">
    <p>+256772270414</p>
    <p>mikendizihiwe@gmail.com</p>
</div>
<div class="header">
    <p>BUY EVERY THING ONLINE</p>
    <div class="cart"><a href="./cart.html"><i class="fa-solid fa-cart-shopping"></i></a><p id="count">0</p></div>
</div>
<div class="searchbar">
    <input type="text" placeholder="search..." id="searchBar" name="searchBar">

</div>
   <div class="container">
    <div id="root"></div>
     <div class="sidebar">
        <div class="head"><p>my cart</p></div>
        <div>
          <form action="/submit-form" method="post" id="userForm">
            <label  for="Name">Your Name</label>
            <input id="Name" autocomplete="on" type="text" placeholder="Name" name="Name" required>
            
            <label  for="Email">Your E-mail</label>
            <input id="Email" autocomplete="on" type="email" placeholder="E-mail" name="email" required>
            
            <label  for="Phone">Your phone number</label>
            <input id="Phone" autocomplete="off" type="number" placeholder="tel-no" name="tel-no" required>
            
            <label for="Location">Your location</label>
            <input id="Location" autocomplete="shipping street-address" type="text" placeholder="Location" name="Location" required>
            
            <div id="cartItem">Your cart is empty</div>
            <button type="submit">Submit</button>
            
        </form>
        </div>
        
        <div class="foot">
            <h3>Total</h3>
            <h2 id="total">$ 0.00</h2>
        </div> 
        
        
    </div>
    
   <script src="searchengine.js"></script>
   

   <script>
    
    

    const userForm = document.getElementById("userForm");

userForm.addEventListener("submit", async (e) => {
    e.preventDefault(); // Prevent form submission

    // Get form input values
    const Name = document.getElementById("Name");
    const email = document.getElementById("Email");
    const phone = document.getElementById("Phone");
    const Location = document.getElementById("Location");
    const cartItem = document.getElementById("cartItem").textContent; // Extract cart item text

   
    try {
        const response = await fetch("/submit-form", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ name, email, phone, location, cartItem })
        });

        if (response.ok) {
            console.log("Form data submitted successfully!");
            // You can display a success message to the user here
        } else {
            console.log("Error submitting form data:", response.status);
            alert("Error submitting form data.");
            // You can display an error message to the user here
        }
    } catch (error) {
        console.log("An error occurred:", error);
        alert("An error occurred:");
        // You can display an error message to the user here
    }
});

</script>
</body>
</html>